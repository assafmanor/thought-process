{% extends 'base.html' %}
{% block title %}{{ user['name'] }}'s Stats{% endblock %}
{% block basic %}
    <h1 class="text-primary" align="center">{{ self.title() }}</h1>
    <h3 align="center">Info</h3>
    <table class="table">
        <thead class="thead-dark">
            <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Gender</th>
                <th scope="col">Birthdate</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row">{{ user['id'] }}</th>
                <td><a href="user?id={{ user['id'] }}">
                    {{ user['name'] }}
                </a></td>
                <td>{{ user['gender'] }}</td>
                <td>{{ user['birthdate'].strftime('%d %b %Y') }}</td>
            </tr>
        </tbody>
    </table>

    <h3 align="center">Average Data</h3>
    <p>These are the average values for all snapshots.</p>
    <table class="table">
        <tbody>
            <tr>
                <th scope="row">Feelings</th>
                <td style ="word-break:break-all;">
                    {% if average['feelings'] %}
                    <div class="container">
                        <table class="table table-borderless">
                            <tr>
                                <th scope="row" class="w-50">Hunger</th>
                                <td class="w-50">
                                    {{ "%.2f" % (average['feelings'][0]*100) }}%
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="w-50">Thirst</th>
                                <td class="w-50">
                                    {{ "%.2f" % (average['feelings'][1]*100) }}%
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="w-50">Exhaustion</th>
                                <td class="w-50">
                                    {{ "%.2f" % (average['feelings'][2]*100) }}%
                                </td>
                            </tr>
                            <tr>
                                <th scope="row" class="w-50">Happiness</th>
                                <td class="w-50">
                                    {{ "%.2f" % (average['feelings'][3]*100) }}%
                                </td>
                            </tr>
                        </table>
                    </div>
                    {% else %}
                        No data
                    {% endif %}
                </td>
            </tr>
            <tr>
                <th scope="row" class="w-25">Translation</th>
                <td class="w-75">
                    {% if average['pose'] %}
                        <div class="container">
                            <table class="table table-borderless">
                                <tr>
                                    <th scope="row" class="w-50">x</th>
                                    <td class="w-50">
                                        {{ average['pose']['translation'][0] }}
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row" class="w-50">y</th>
                                    <td class="w-50">
                                        {{ average['pose']['translation'][1] }}
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row" class="w-50">z</th>
                                    <td class="w-50">
                                        {{ average['pose']['translation'][2] }}
                                    </td>
                                </tr>
                            </table>
                        </div>
                    {% else %}
                        No data
                    {% endif %}
                </td>
            </tr>
            <tr>
                <th scope="row" class="w-25">Rotation</th>
                <td class="w-75">
                    {% if average['pose'] %}
                        <div class="container">
                            <table class="table table-borderless">
                                <tr>
                                    <th scope="row" class="w-50">x</th>
                                    <td class="w-50">
                                        {{ average['pose']['rotation'][0] }}
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row" class="w-50">y</th>
                                    <td class="w-50">
                                        {{ average['pose']['rotation'][1] }}
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row" class="w-50">z</th>
                                    <td class="w-50">
                                        {{ average['pose']['rotation'][2] }}
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row" class="w-50">w</th>
                                    <td class="w-50">
                                        {{ average['pose']['rotation'][3] }}
                                    </td>
                                </tr>
                            </table>
                        </div>
                    {% else %}
                        No data
                    {% endif %}
                </td>
            </tr>
        </tbody>
    </table>

    <h3 align="center">Feelings Over Time</h3>
    <table class="table">
        <tbody>
            <tr>
                <th scope="row" class="w-25">Hunger</th>
                <td class="w-75">
                    <a href="feeling_plot.png?user_id={{ user['id'] }}&type=hunger">
                        <img src="feeling_plot.png?user_id={{ user['id'] }}&type=hunger" alt="color image" class="img-thumbnail">
                    </a>                    
                </td>
            </tr>
            <tr>
                <th scope="row" class="w-25">Thirst</th>
                <td class="w-75">
                    <a href="feeling_plot.png?user_id={{ user['id'] }}&type=thirst">
                        <img src="feeling_plot.png?user_id={{ user['id'] }}&type=thirst" alt="color image" class="img-thumbnail">
                    </a>                    
                </td>
            </tr>
            <tr>
                <th scope="row" class="w-25">Exhaustion</th>
                <td class="w-75">
                    <a href="feeling_plot.png?user_id={{ user['id'] }}&type=exhaustion">
                        <img src="feeling_plot.png?user_id={{ user['id'] }}&type=exhaustion" alt="color image" class="img-thumbnail">
                    </a>                    
                </td>
            </tr>
            <tr>
                <th scope="row" class="w-25">Happiness</th>
                <td class="w-75">
                    <a href="feeling_plot.png?user_id={{ user['id'] }}&type=happiness">
                        <img src="feeling_plot.png?user_id={{ user['id'] }}&type=happiness" alt="color image" class="img-thumbnail">
                    </a>                    
                </td>
            </tr>

{% endblock %}
